{% extends "./base.html" %}
{% block page_title %}Demand Manager Demand Detail{% endblock %}

{% block navbar_title %}
    <a class="navbar-brand" href="{% url 'demand_manager:top' %}">Demand Manager</a>
{% endblock%}

{% block navbar_contents %}
{% include "./demand_block_navbar_contents.html" %}
{% endblock %}

{% block content %}
<div style="margin:20px">
    <table class="table table-bordered table-striped table-light">
        <tbody>
            <tr>
                <th scope="row">Product Name</th>
                <td>{{  demand.product|default_if_none:"N/A"  }}</td>
            </tr>
            <tr>
                <th scope="row">Product ID</th>
                <td>{{  demand.product_id|default_if_none:"N/A"  }}</td>
            </tr>
            <tr>
                <th scope="row">Technology Node</th>
                <td>{{  demand.tech_node|default_if_none:"N/A"  }}</td>
            </tr>
            <tr>
                <th scope="row">Verification Content</th>
                <td>{{  demand.content|default_if_none:"N/A"  }}</td>
            </tr>
            <tr>
                <th scope="row">Start Date</th>
                <td>{{  demand.start_date|date:"Y/m/d"  }}</td>
            </tr>
            <tr>
                <th scope="row">End Date</th>
                <td>{{  demand.end_date|date:"Y/m/d"  }}</td>
            </tr>
            <tr>
                <th scope="row">Frequency of use [%]</th>
                <td>{{  demand.frequency|default_if_none:"N/A" }}</td>
            </tr>
            <tr>
                <th scope="row">Comments</th>
                <td>{{  demand.comment|default_if_none:"N/A" }}</td>
            </tr>
            <tr>
                <th scope="row">User(Create)</th>
                <td>{{  demand.user_create|default_if_none:"N/A" }}</td>
            </tr>
            <tr>
                <th scope="row">Time(Create)</th>
                <td>{{  demand.time_create|default_if_none:"N/A"|date:"Y/m/d H:i:s" }}</td>
            </tr>
            <tr>
                <th scope="row">User(Update)</th>
                <td>{{  demand.user_update|default_if_none:"N/A" }}</td>
            </tr>
            <tr>
                <th scope="row">Time(Update)</th>
                <td>{{  demand.time_update|default_if_none:"N/A"|date:"Y/m/d H:i:s" }}</td>
            </tr>
        </tbody>
    </table>
    <a href="{% url 'demand_manager:update' demand.pk %}" class="btn btn-primary"><i class="fas fa-edit"></i> Update</a>
    <a class="btn btn-secondary"
       data-toggle="modal" data-target="#DeleteDemandModal" data-deleteurl="{% url 'demand_manager:delete' demand.pk %}">
        <i class="fas fa-eraser"></i> Delete
    </a>
    <a href="/demand_manager/" class="btn btn-primary">Back</a>
</div>

<div class="modal fade" id="DeleteDemandModal" tabindex="-1" role="dialog"
     aria-labelledby="DeleteDemandModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <form action="" method="POST">
          {% csrf_token %}
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Deletion confirmation screen</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                  </button>
              </div>
              <div class="modal-body">
                  <p>Do you want to delete this demand?</p>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                  <button type="submit" class="btn btn-primary">Delete</button>
              </div>
          </div>
      </form>
  </div>
</div>

{% endblock %}

{% block extra_js %}
{% endblock %}
